html {
  @media (prefers-color-scheme: light) {
    &:not([data-mode]),
    &[data-mode='light'] {
      --toggle-bg: #ffffff;
      --toggle-bg-open: #f9fafb;
      --toggle-border: #e5e7eb;
      --toggle-border-open: #d1d5db;
      --toggle-text: #111827;
      --toggle-hover: #f3f4f6;
    }
    &[data-mode='dark'] {
      --toggle-bg: #0f1115;
      --toggle-bg-open: #1a1d24;
      --toggle-border: #2a2f3a;
      --toggle-border-open: #3b4252;
      --toggle-text: #e5e7eb;
      --toggle-hover: #171a21;
    }
  }

  @media (prefers-color-scheme: dark) {
    &:not([data-mode]),
    &[data-mode='dark'] {
      --toggle-bg: #0f1115;
      --toggle-bg-open: #1a1d24;
      --toggle-border: #2a2f3a;
      --toggle-border-open: #3b4252;
      --toggle-text: #e5e7eb;
      --toggle-hover: #171a21;
    }
    &[data-mode='light'] {
      --toggle-bg: #ffffff;
      --toggle-bg-open: #f9fafb;
      --toggle-border: #e5e7eb;
      --toggle-border-open: #d1d5db;
      --toggle-text: #111827;
      --toggle-hover: #f3f4f6;
    }
  }
}

/* === Toggle 元件 === */
.toggle {
  border: 1px solid var(--toggle-border) !important;
  border-radius: 0.75rem;
  background-color: var(--toggle-bg) !important;
  overflow: hidden;
  margin: 1em 0;
  transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

.toggle.open {
  background-color: var(--toggle-bg-open) !important;
  border-color: var(--toggle-border-open) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.toggle-header {
  cursor: pointer;
  padding: 0.75em 1em;
  font-weight: bold;
  color: var(--toggle-text) !important;
  display: flex;
  align-items: center;
  position: relative;
}

.toggle-header::before {
  content: "▶";
  display: inline-block;
  margin-right: 0.5em;
  transition: transform 0.2s ease;
}

.toggle.open > .toggle-header::before {
  transform: rotate(90deg);
}

.toggle-header:hover {
  background-color: var(--toggle-hover) !important;
}

/* 內容區，max-height 與 padding 全由 JS 動態控制 */
.toggle-content {
  max-height: 0;
  overflow: hidden;
  padding: 0 1em;
  color: var(--toggle-text) !important;
  transition: max-height 0.28s ease, padding 0.28s ease;
}
