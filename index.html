---
layout: home
# Index page
---

<!-- sidebar toggle button -->
<button id="sidebar-toggle" aria-label="Toggle sidebar" style="cursor:pointer; position: fixed; top: 10px; left: 10px; z-index: 9999; background: #eee; border: none; padding: 6px 10px; border-radius: 4px; font-size: 18px;">
  ◀
</button>

<style>
  /* sidebar 收合時往左推 */
  .sidebar-hidden {
    transform: translateX(-260px) !important;
    -webkit-transform: translateX(-260px) !important;
    transition: transform 0.3s ease;
  }
  /* 主內容區變滿寬 */
  .main-fullwidth {
    margin-left: 0 !important;
    transition: margin-left 0.3s ease;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const mainWrapper = document.getElementById('main-wrapper');
    const toggleBtn = document.getElementById('sidebar-toggle');

    // 若有任一元素沒找到，跳出避免錯誤
    if (!sidebar || !mainWrapper || !toggleBtn) return;

    // 更新按鈕箭頭方向
    function updateButton() {
      if (sidebar.classList.contains('sidebar-hidden')) {
        toggleBtn.textContent = '▶'; // sidebar 隱藏，箭頭指向右
      } else {
        toggleBtn.textContent = '◀'; // sidebar 顯示，箭頭指向左
      }
    }

    // 點按鈕切換狀態
    toggleBtn.addEventListener('click', function() {
      sidebar.classList.toggle('sidebar-hidden');
      mainWrapper.classList.toggle('main-fullwidth');
      updateButton();
      localStorage.setItem('sidebar-hidden', sidebar.classList.contains('sidebar-hidden'));
    });

    // 頁面載入時讀取狀態
    if (localStorage.getItem('sidebar-hidden') === 'true') {
      sidebar.classList.add('sidebar-hidden');
      mainWrapper.classList.add('main-fullwidth');
    }

    updateButton();
  });
</script>
